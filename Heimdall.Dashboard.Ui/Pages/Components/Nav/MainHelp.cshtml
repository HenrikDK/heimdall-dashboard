<template id="main-help">
    <div @@click="openModal" title="Shortcuts"
         class="flex px-2 py-1.5 rounded-lg items-center justify-center cursor-pointer
      bg-transparent
      text-white/[.6] hover:text-white
      dark:text-white/[.6] dark:hover:text-blue-400">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
        </svg>
    </div>
    <div v-if="isOpen" class="fixed z-[9998] top-0 left-0 w-full h-full bg-white/[0.4] dark:bg-black/[0.4] backdrop-blur-[2px]">
        <div class="shadow-lg rounded-lg mt-[150px] mx-auto w-[750px] p-8
         bg-white 
         dark:bg-zinc-800 dark:border-white/[.4] dark:text-white/[.6]" 
             ref="target">
  
            <div class="flex text-xl justify-center pb-4">
                <div>Keyboard shortcuts</div>
            </div>
            <div class="flex">
            <div class="flex flex-col w-1/2 items-center">
                <div>
                    <div class="w-full text-center pb-4"> Namespace </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Shift" class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-up">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
                                </svg>
                            </div>
                            <div class="text-center w-8 dark:text-white/[0.6]">
                                +
                            </div>
                            <div title="n" class="border rounded-lg py-2 w-[42px] text-center px-4 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                n
                            </div>
                        </div>
                        <div> Open select. </div>
                    </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Enter" 
                                class="items-center text-center justify-center border rounded-lg py-2 px-4 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                Enter
                            </div>
                        </div>
                        <div> Toggle namespace. </div>
                    </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Arrow Up"
                                class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18">
                                    </path>
                                </svg>
                            </div>
                            <div class="text-center w-8 dark:text-white/[0.6]">
                                or
                            </div>
                            <div title="Arrow Down"
                                class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                    stroke="currentColor" class="w-6 h-6">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3">
                                    </path>
                                </svg>
                            </div>
                        </div>
                        <div> Navigate namepsaces. </div>
                    </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Esc"
                                class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                Esc
                            </div>
                        </div>
                        <div>
                            <div>
                                1. Clear search.
                            </div>
                            <div>
                                2. Close select.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col w-1/2 items-center">
                <div>
                    <div class="w-full text-center pb-4"> Search </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Shift" class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-up">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
                                </svg>
                            </div>
                            <div class="text-center w-8 dark:text-white/[0.6]">
                                +
                            </div>
                            <div title="7" class="border rounded-lg py-2 w-[42px] text-center px-4 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                7 
                            </div>
                        </div>
                        <div> Focus search. </div>
                    </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Shift" class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-up">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path
                                        d="M9 20v-8h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v8a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
                                </svg>
                            </div>
                            <div class="text-center w-8 dark:text-white/[0.6]">
                                +
                            </div>
                            <div title="s" class="border rounded-lg py-2 w-[42px] text-center px-4 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                s 
                            </div>
                        </div>
                        <div> Focus search. </div>
                    </div>
                    <div class="flex items-center pb-2">
                        <div class="w-40 flex items-center">
                            <div title="Esc"
                                class="items-center justify-center border rounded-lg p-2 border-gray-500 dark:border-white/[0.6] dark:text-white/[0.6]">
                                Esc
                            </div>
                        </div>
                        <div>
                            Clear search.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex justify-end">
            <button @@click="closeModal"
                class="flex px-2 py-2 rounded-lg items-center me-4 justify-center border cursor-pointer
                    bg-white border-gray-300 fill-gray-300
                    hover:border-gray-500 hover:bg-gray-100 hover:fill-gray-500
                    dark:border-white/[.4] dark:text-white/[.6] 
                    dark:hover:border-white dark:hover:text-white dark:hover:fill-white
                    dark:bg-zinc-900">
                Close
            </button>
        </div>
    </div>
</div>
</template>

<script type="module">
import { ref } from 'vue'
import { onClickOutside, onKeyStroke } from '@@vueuse/core'

let setup = (props, ctx) => {
  let isOpen = ref(false);
  const target = ref(null);
  
  let closeModal = () => {
    isOpen.value = false;
  }
  
  let openModal = () => {
    isOpen.value = true;
  }
  
  onKeyStroke('Escape', closeModal);
  onClickOutside(target, closeModal);

  return {isOpen, openModal, closeModal, target}
}

components["main-help"] = { template: "#main-help", setup };
</script>
